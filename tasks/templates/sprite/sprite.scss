// auto generated by magic sprite task

$iconTheme: normal !default;

@mixin ico($spriteName, $iconName, $align1: false, $align2: false) {
	$sprite: ico-sprite($spriteName);
	$icon: ico-icon($spriteName, $iconName);

	background: ico-image($spriteName, $iconName, 1) no-repeat;
	width: map-get($icon, width);
	height: map-get($icon, height);

	@if str-index($iconName, 'link') or str-index($iconName, 'right') or str-index($iconName, 'left') {
	/*rtl:raw:
	transform: scaleX(-1);
	*/
	}

	@if $align1 or $align2 {
		content: '';
		position: absolute;
		@if $align1 == 'top' or $align2 == 'top' {
			top: 0;
		} @else if $align1 == 'bottom' or $align2 == 'bottom' {
			bottom: 0;
		} @else if $align1 == 'middle' or $align2 == 'middle' {
			top: 50%;
			margin-top: round(map-get($icon, height) / -2);
		}
		@if $align1 == 'left' or $align2 == 'left' {
			left: 0;
		} @else if $align1 == 'right' or $align2 == 'right' {
			right: 0;
		} @else if $align1 == 'center' or $align2 == 'center' {
			left: 50%;
			margin-left: round(map-get($icon, width) / -2);
		}
	}
	@include retina {
		background: ico-image($spriteName, $iconName, 2) no-repeat;
		background-size: (map-get($icon, width)) (map-get($icon, height));
	}
}


@function ico-sprite($name) {
	@return map-get($ico, $name);
}
@function ico-icons($spriteName) {
	@return ico-sprite($spriteName);
}
@function ico-icon($spriteName, $imageName) {
	@return map-get(ico-icons($spriteName), $imageName);
}
@function ico-width($spriteName, $imageName) {
	$image: ico-icon($spriteName, $imageName);
	@return map-get($image, width);
}
@function ico-height($spriteName, $imageName) {
	$image: ico-icon($spriteName, $imageName);
	@return map-get($image, height);
}
@function ico-image($spriteName, $imageName, $res: 1) {
	@return url('../img/icons/#{$spriteName}-#{$iconTheme}/#{$res}x/#{$imageName}.png');
}


$ico: (
<:
Object.keys(sprites).forEach(function(spriteName) {
	var icons = sprites[spriteName];
:>
	<:= spriteName :>: (
<:
	Object.keys(icons).forEach(function(iconName, index) {
		var icon = icons[iconName];
:>
		<:= iconName :>: (
			name: '<:= iconName :>',
			width: <:= icon.width :>px,
			height: <:= icon.height :>px
		),
<:
	}); // icons
:>
	),
<:
}); // sprites
:>
);




<:
Object.keys(sprites).forEach(function(spriteName) {
	var icons = sprites[spriteName];
	Object.keys(icons).forEach(function(iconName, index) {
		var icon = icons[iconName];
:>

@mixin ico-<:= spriteName :>-<:= iconName :>($align1: false, $align2: false) {
	@include ico(<:= spriteName :>, <:= iconName :>, $align1, $align2);
}
<:
	}); // icons
}); // sprites
:>

